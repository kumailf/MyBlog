## 什么是EV

在德州扑克中有个很重要的概念叫EV-Expected Value(当然也不是德州特有，在商业投资领域也常见)，翻译过来就是期望价值，它表示的是我们做一个决策后可能收获价值的一个数学期望

EV的公式特别简单，是这样的
$$
EV = Win\% * Win$ - Lost\% * Lost$ (Win\%+Lost\%=100\%)
$$
这个公式中出现了两个符号%和$，分别表示概率和收益，公式又两部分组成，我们分别来看

- Win% * Win$，这一部分是获利的数学期望，计算方法是Win的概率 * Win的收益，记为EVWin
- Lost% * Lost$，这一部分是损失的数学期望，计算方法是Lost的概率 * Lost的损失，记为EVLost

那么我们就知道了，做出一个决策的EV计算方式就是获利的数学期望 - 损失的数学期望，即
$$
EV = EVWin - EVLost
$$


## 概率和频率

学过概率论的同学肯定听过这两个名词的区别，频率是指某件事实际已发生的次数占总次数的比值，概率是指某件事应当出现的次数占总次数的比值，这么说可能很抽象，就用一个抛硬币的例子来说明

首先我们知道，抛硬币时会有两种情况出现，分别是正面朝上和反面朝上，且它们出现的比例是相同的，也就是说出现正面朝上的概率是1/2，出现反面朝上的概率也是1/2，这里我们是根据一个常识或计算来得到这个数字，也就是它发生的概率

然后我们抛了三次硬币，结果都是正面朝上，正面朝上出现的频率是1，反面朝上出现的频率是0，但这并不能说明1/2的概率就是错的，在我们抛上千次，上万次，上百万次时，出现正面朝上和反面朝上的频率就会趋近于概率1/2

道理特别简单，我们不能用频率来解释概率，下面说个买彩票的例子

假设有个彩票奖金为1000000，单张彩票中奖概率为1/500000,每次购买一张彩票需要花费10，那么根据公式我们来计算
$$
EV = Win\% * Win$ - Lost\% * Lost$ (Win\%+Lost\%=100\%)
$$
代入几个中奖概率和奖金，不中奖概率和花费
$$
EV = 1/500000 * （1000000 - 10） - 499999/500000 * 10 = 1.99998 - 9.99998 = -8
$$
也就是说每购买一张彩票，你就亏了8块钱，那么下面有几个问题

1.有个人某天下班路过彩票站，心血来潮进去买了一张彩票，他中了一百万，过上了美好幸福的生活，请问他买这张彩票是亏了8块还是赚了999990呢

2.有个人想着一夜暴富，每天去买彩票，但从来没有中过奖，在他第1000次开奖失败时他放弃了，请问他是亏了1000 * 10 = 10000 还是1000 * 8 = 8000呢

3.有个人想着一夜暴富，每天去买彩票，但从来没有中过奖，在他第1000次开奖失败时他开始怀疑自己，这时候他面临继续购买和放弃的选择，请问他选择继续购买和放弃的EV分别是多少呢(条件概率，概率论必考)

4.有个老彩民每天都去买彩票，风雨无阻，终于在第500000次买彩票时中了一百万，请问他是赚了还是亏了呢

答案其实不重要，有兴趣的可以自己想

## 价值体系

在涉及到金钱的一些决策上我们很容易能知道Win$和Lost$是多少，因为钱是一个具体的数字，但是在生活中面临一些决策，就比如说现在半夜两点我肚子饿了准备叫一个炸鸡，这时候就没有计算叫炸鸡这个决策的EV了，这时候又该怎么办法？因为我们没法用一个具体的数字来表示我们的收益和损失，所以答案已经很明显了，我们想用这个EV公式来做决策的话，就需要把Win和Lost从简单的金钱得失来转化为一个更具体但是又很抽象的东西

就拿叫炸鸡外卖这件事，它会带来几个比较直观的结果

- 钱会少20
- 满足了一次想吃炸鸡的欲望，心情会变好
- 会长胖
- 等外卖和炸鸡的时间可能会消耗掉一小时，所以会熬夜并且减少一小时的睡眠（如果第二天要准时上班的话）

要来计算这四个结果带来的影响，我们要做的第一件事就是

统一度量衡！

是的，只有拥有了一个统一的计算单位，我们才有办法把它们放入一个公式中计算，这里我们用一百元来作为一个基础单位Value，也就是
$$
￥100 = 1 Value
$$
其中Value是定义的单位名称，方便书写后面1Value会记为1V

接下来就是把跟金钱无关的事情来接入这套价值体系中了

### 怎么确定V值

当你不知道某件事的V值时，可以把它和捡到钱/丢钱做比较，如果说你在不考虑其他负面后果的情况下吃一顿炸鸡外卖的快乐和你在马路上捡到一百元的快乐是等价的，那么这时心情值的收益就是1V。注意这里一定要是不考虑其他负面后果，具体可以想象成你免费吃了一顿炸鸡外卖，而且不会长胖，而且明天不上班可以不在意这一个小时的时间。如果是损失/省下了一定的时间，可以把时间等价于相同时间内你的工资，如月薪10000，那么时薪就是10000 / 22 / 8 =  56（标准965计算，不同工作时间自己换算），也就是说一小时约等于0.5V

## 来实际计算EV吧

### 晚上叫个炸鸡外卖
- 钱会少20，属于Lost，根据100 = 1V，20 = 0.2V，发生的概率是百分百，所以EVLost = 0.2V * 1 = 0.2V

- 满足了一次想吃炸鸡的欲望，心情会变好，上面提过了计算方法，我今天确实挺想吃的，心情值1V，但是也可能外卖到了后吃两口又没那么想吃了，心情值降为0.2V，就假设这两种情况的概率对半分都为1/2吧，那么EVWin = 1V * 1/2 + 0.2V * 1/2 = 0.6V

- 长胖显然是一个负收益（瘦仔除外），如果换算成热量再换算成消耗这些热量需要的运动量-上网查了下大概是半小时，那么把半小时的运动等价于半小时的工作，根据上文假设的月薪1W来进行时间换算约等于是0.25V，EVLost = 0.25V * 1 = 0.25V

- 少了一小时的睡眠，但这一小时其实是在做你自己想做的事情而不是工作，所以几乎没有影响，影响到的是你的睡眠，导致第二天起床时会特别痛苦，我感觉应该跟心情值挂钩，给到0.5V，那么EVLost = 0.5V * 1 = 0.5V

  那么计算下来的EV值就是
  $$
  EV = EVWin(SUM) - EVLost(SUM) = 0.6V - (0.2V + 0.25V + 0.5V) = -0.35V
  $$
  综上，在当前条件下叫炸鸡约等于白给￥35，所以我写完这个就洗洗睡了

### 买10张特典券
- 按一张40， 金币-400， EVLost = 4V * 1 = 4V
- 排队时间20 ~ 60 min不等， 取中间值

## 结论

上面说了一堆东西，其实就是提出了一种关于做决策时的判断，而且能适用大多数情况，比如上面计算的买一张彩票的金额上的EV = -8元，但是还要在考虑上中奖后额外的心情值收益，中了百万大奖你的心情值收益可能会是10000V，没中的心情值损失就是-0.01V，那还是可以去买的，毕竟谁没有个一夜暴富的梦呢
